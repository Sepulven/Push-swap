/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: asepulve <asepulve@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/02/08 14:29:23 by asepulve          #+#    #+#             */
/*   Updated: 2023/05/01 00:39:40 by asepulve         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"

void	sort_sub_stack(t_list **a, t_list **b, t_sort_n stat)
{
	int		pos;
	int		r_a_tip;

	r_a_tip = 0;
	while (stat.l_side + stat.r_side > 1 && stat.size)
	{
		pos = best_el(*b, stat.l_side, stat.r_side, &stat);
		send_el_to(a, b, pos, 'a');
		calc_tips_size(&stat, pos);
		checker(a, b, &stat, &r_a_tip);
	}
	pa(a, b);
	while (r_a_tip-- > 0)
		rra(a);
}

//  * No momento de dar o split eu posso simplemente passa um elemento para um lado e deixo o outro.
//  * So tenho de ter cuidado para perder o el.
void	push_swap(t_list **a, t_list **b, int size)
{
	int	i;

	split_stack_diviser(a, b, (t_stat){'a', 'c', size});
	diviser_tips(a, b, (t_stat){'a', 'c', size / 4});
	diviser_tips(a, b, (t_stat){'a', 'c', size / 4});
	diviser_tips(a, b, (t_stat){'b', 'd', size / 8});
	i = 0;
	while (i++ < (size / 8) + 1)
		rra(a);
	diviser_tips(a, b, (t_stat){'b', 'd', (size / 8) + 1});
	diviser_tips(a, b, (t_stat){'b', 'd', size / 8});
	i = 0;
	while (i++ < (size / 8) + 1)
		rra(a);
	diviser_tips(a, b, (t_stat){'b', 'd', (size / 8) + 1});
	diviser_tips_sorted(a, b, (t_stat){'b', 'c', size / 2});
	sort_sub_stack(a, b, (t_sort_n){size / 2, size / 2, \
	'b', 'g', ft_lstsize(*b)});
}

	// sort_sub_stack(a, b, (t_sort_n){size / 2, size / 2, 
	// 'b', 'g', ft_lstsize(*b)});

/*
	118 316 375 313 178 239 147 189 464 24 496 195 481 8 373 432 32 416 175 403 297 224 190 358 413 155 67 414 150 295 333 258 456 112 267 40 47 13 439 193 400 499 327 46 471 332 415 91 470 328 293 483 233 49 197 495 248 244 55 213 65 214 312 335 366 230 469 398 2 426 463 251 301 191 407 22 326 351 370 319 80 264 387 69 104 250 237 211 318 438 135 50 371 31 70 286 276 222 397 16 347 89 381 164 392 443 419 396 200 492 342 461 51 143 203 446 68 376 334 433 281 201 482 238 352 498 152 340 93 394 479 157 23 44 409 429 390 81 61 63 280 444 361 323 86 109 423 243 406 58 411 324 431 353 475 205 346 27 311 53 379 30 493 489 380 450 298 145 315 278 462 270 25 468 447 364 209 113 4 249 304 491 158 246 218 466 184 82 266 434 338 399 94 181 360 302 146 166 162 490 256 43 216 141 77 457 83 41 204 331 374 384 265 196 418 167 348 254 395 92 148 449 125 386 356 474 300 75 282 79 28 160 289 60 453 422 12 255 56 15 307 296 42 425 306 21 95 221 355 241 170 9 71 188 161 76 497 226 253 245 126 87 500 96 215 194 275 310 451 39 140 488 303 476 460 90 389 131 19 62 330 272 34 385 440 1 7 128 437 124 341 110 101 105 262 404 417 234 134 314 442 391 294 10 329 219 137 99 359 427 115 14 54 180 130 372 343 242 369 206 33 420 149 441 66 388 102 120 485 212 11 84 247 478 20 283 165 291 299 123 279 121 85 325 257 153 259 111 368 183 445 321 229 198 435 377 179 210 98 454 231 405 199 317 171 127 382 45 428 154 467 339 309 480 305 73 322 401 228 88 424 227 185 320 487 383 260 350 168 458 100 263 106 29 107 217 362 477 173 163 336 59 187 277 176 436 169 408 365 122 290 465 261 220 202 103 349 52 6 410 36 192 284 138 156 232 174 208 268 367 37 142 119 172 273 288 455 345 274 421 139 17 97 308 292 207 48 64 223 57 144 78 151 132 74 393 236 240 177 117 378 472 271 285 186 114 473 402 484 448 136 494 363 225 72 269 354 452 357 486 235 133 116 252 129 159 182 26 344 38 35 459 5 337 287 3 412 18 430 108 
	500 284 421 319 374 252 288 290 66 6 373 155 479 499 337 72 392 235 50 414 149 248 384 354 14 111 172 276 376 398 271 477 285 71 217 446 277 20 259 378 470 143 309 491 118 464 420 24 346 202 254 17 316 214 117 190 393 294 361 208 164 353 222 389 441 443 364 315 51 286 451 487 380 136 96 450 261 138 122 105 402 297 344 151 391 422 188 270 81 179 180 358 112 460 12 98 80 93 329 189 203 114 445 274 206 154 412 399 23 163 318 224 349 15 140 381 426 124 333 103 78 423 295 493 94 158 157 280 11 22 465 462 137 220 427 35 323 456 463 49 293 62 63 442 273 267 25 312 395 192 339 152 413 47 159 406 405 175 198 225 29 173 366 382 408 253 287 255 144 351 359 289 300 299 440 430 331 100 133 348 436 343 418 266 150 251 306 419 335 298 244 92 186 48 185 415 435 482 3 215 221 104 304 365 313 302 166 32 383 2 95 484 85 332 210 236 87 169 57 263 107 478 181 77 438 303 367 258 325 165 317 231 403 59 145 475 324 476 396 82 99 401 28 108 334 199 226 388 134 386 328 160 336 326 428 53 247 229 375 390 13 74 279 368 407 249 8 327 264 240 233 492 109 341 232 461 448 56 36 256 230 120 338 9 431 385 178 153 444 113 129 168 239 241 55 362 130 496 37 447 216 452 31 177 292 102 174 116 89 345 219 121 176 201 321 42 410 88 457 16 209 472 86 212 371 106 352 64 60 489 281 400 387 250 5 404 363 322 171 46 439 424 301 207 65 187 485 283 409 97 147 237 494 69 355 330 411 486 471 488 260 91 195 311 497 429 416 469 110 360 466 308 454 234 282 211 125 30 139 347 142 161 213 45 370 223 90 458 197 433 257 205 200 468 126 162 84 350 44 377 265 127 227 474 296 54 379 372 34 115 58 228 320 245 83 132 156 275 481 76 495 26 473 19 123 18 340 262 21 167 170 218 449 314 33 128 455 459 70 397 196 39 480 1 490 73 75 291 204 7 182 417 342 356 269 67 183 498 243 148 41 453 10 43 119 184 432 394 61 4 242 305 27 191 425 141 131 40 437 194 357 146 483 52 238 101 268 278 434 193 369 467 68 79 38 310 272 307 246 135 
	340 138 431 180 8 277 136 316 48 484 309 337 345 237 249 368 451 305 135 390 384 410 464 134 354 32 198 347 268 430 234 92 151 210 331 446 207 406 228 191 482 386 7 113 310 379 489 73 358 224 78 126 177 45 139 311 29 175 122 425 16 338 115 372 63 61 186 495 452 466 500 486 290 262 105 459 393 114 296 62 427 58 83 20 2 14 97 396 444 407 221 477 68 43 67 361 387 465 3 25 192 476 251 116 41 450 480 152 437 272 88 21 256 120 24 275 64 423 217 487 145 99 488 184 281 492 432 424 34 211 332 208 283 468 17 356 65 458 383 415 463 44 91 197 222 401 232 471 325 258 353 350 127 266 439 220 173 30 447 5 360 367 101 59 36 128 301 144 323 160 312 238 299 298 215 80 77 394 163 194 79 284 455 320 255 227 149 104 240 381 418 130 336 112 294 15 187 481 355 84 189 363 373 285 50 35 179 86 286 218 162 322 157 414 140 389 411 57 239 161 106 385 371 148 244 74 4 292 485 170 54 168 438 231 412 174 254 419 172 441 375 409 457 183 260 71 242 159 297 205 66 203 107 493 380 364 55 391 352 422 300 236 10 252 343 334 158 398 460 400 93 324 53 51 392 276 90 257 395 434 269 497 102 195 147 123 216 313 253 445 321 212 40 19 494 245 13 241 261 12 137 349 326 214 342 282 178 213 304 169 38 235 474 27 442 28 75 100 33 498 6 456 176 291 37 475 388 289 69 1 243 164 132 333 369 230 201 348 26 153 483 273 449 229 156 467 306 429 293 121 453 204 335 267 315 219 209 271 182 233 448 461 399 378 408 359 469 443 103 318 31 413 479 94 327 287 246 329 341 366 416 72 280 70 109 52 397 95 87 171 129 420 402 124 417 60 131 200 11 193 96 98 49 118 125 181 185 370 314 404 39 76 470 307 377 259 199 426 196 166 47 81 490 225 435 133 46 42 89 339 421 155 117 496 141 440 265 428 478 264 436 202 491 9 110 433 374 167 18 405 150 111 308 85 357 295 403 108 499 319 346 119 344 382 23 226 288 56 247 82 362 303 142 165 188 274 330 250 462 472 143 328 279 270 454 248 317 365 351 146 223 376 190 473 263 22 302 154 278 206 
	222 340 52 432 227 145 221 289 92 163 242 433 449 108 302 199 158 161 55 472 285 48 445 291 458 292 438 94 117 37 479 132 489 367 398 431 193 424 452 149 58 483 274 466 195 440 387 380 34 155 237 187 9 160 415 142 321 19 229 25 234 499 338 166 63 198 202 35 485 496 232 20 408 148 267 175 410 244 436 375 106 259 42 215 255 451 462 141 301 82 269 384 207 284 7 381 130 233 54 26 156 235 426 205 468 71 79 342 135 418 403 40 265 214 330 353 497 120 250 101 13 57 10 281 23 217 78 47 385 272 69 328 223 152 400 21 185 228 271 50 430 311 247 22 188 288 491 336 463 377 61 239 475 357 240 372 177 280 28 275 495 355 218 500 134 192 18 354 409 147 76 38 179 62 349 362 490 45 129 51 406 439 125 420 394 256 350 407 402 379 339 81 93 138 266 494 36 467 435 104 168 416 334 332 133 264 91 115 89 5 66 209 151 165 365 477 59 457 189 442 196 391 157 216 73 392 118 344 252 455 304 444 286 465 370 331 203 294 67 39 473 448 314 164 113 191 450 201 422 116 484 309 454 102 248 30 111 295 72 6 182 326 395 373 296 322 127 364 64 180 459 305 70 212 260 24 8 419 263 293 65 211 469 374 83 137 383 253 437 183 238 230 122 85 290 254 121 178 243 197 200 376 404 110 246 109 329 399 347 317 46 88 434 306 411 105 4 273 96 169 423 119 414 316 144 194 389 471 447 319 95 249 312 31 270 172 208 401 77 53 245 276 68 480 98 128 174 112 356 167 351 453 44 324 278 369 33 358 461 421 43 441 303 123 27 224 268 12 15 315 361 190 493 170 176 313 226 352 425 476 99 220 428 282 124 359 204 460 213 206 49 366 487 310 126 308 279 87 371 283 287 397 97 251 443 171 382 429 159 318 86 478 210 412 56 154 307 84 131 231 345 114 150 262 488 219 368 320 153 90 446 378 299 337 41 413 1 140 360 297 60 14 482 181 486 396 335 390 184 348 393 162 29 186 427 241 386 346 173 103 388 261 341 143 325 277 456 481 100 474 236 258 498 16 3 139 146 2 343 74 80 17 417 323 464 327 300 75 333 298 11 405 225 363 492 470 136 107 257 32 
	456 280 388 460 183 393 468 312 209 99 230 345 451 231 229 8 302 475 426 296 478 288 291 221 432 131 434 381 370 169 199 249 54 178 313 71 413 395 121 210 39 11 315 383 438 70 417 303 90 275 495 67 257 247 391 237 56 424 23 83 55 374 287 300 341 363 401 220 192 59 150 234 408 340 36 103 104 200 148 325 308 125 17 111 294 77 89 412 439 258 76 334 142 2 107 343 41 349 101 382 114 389 367 134 337 336 79 263 93 66 113 21 171 180 222 371 386 493 144 356 162 267 418 452 435 244 416 369 123 242 358 177 440 298 259 458 143 344 486 405 378 24 331 407 149 216 225 109 362 322 266 61 168 182 357 159 285 204 404 31 428 7 241 167 57 118 353 445 193 397 239 187 37 243 311 161 297 350 228 133 184 120 323 441 335 15 207 328 94 293 165 136 179 115 256 97 346 252 402 10 289 174 444 124 212 425 201 484 301 175 50 240 208 329 273 20 154 151 60 490 91 112 146 447 145 22 25 269 489 47 481 100 429 88 442 215 491 455 365 448 117 499 277 348 494 251 188 462 443 186 236 317 194 202 282 415 327 5 450 189 361 333 40 299 380 86 377 68 305 394 480 164 436 116 261 479 373 160 306 473 30 309 224 217 248 347 270 49 27 135 457 28 105 158 63 372 472 471 364 260 430 138 110 283 4 338 262 82 400 16 190 387 203 195 153 470 268 463 310 487 423 140 290 496 65 227 163 307 433 48 359 172 147 245 342 38 272 18 437 465 6 295 139 446 286 459 206 81 122 326 464 316 384 497 385 355 271 35 62 351 232 170 127 197 419 431 80 74 250 449 85 354 69 410 409 102 498 235 155 233 274 320 130 399 196 44 166 26 467 238 191 129 324 319 488 264 132 213 42 223 13 211 330 106 1 284 96 176 482 461 119 253 73 33 314 108 366 485 218 87 492 453 75 265 254 292 126 279 321 276 376 53 141 84 51 95 226 246 420 34 278 19 58 360 255 392 214 411 219 403 72 375 422 414 500 152 185 64 368 390 477 14 181 78 205 474 469 352 339 29 454 173 198 43 281 3 9 45 421 332 427 12 476 157 98 128 483 398 466 156 406 32 92 396 379 52 46 318 137 304 
	442 167 227 158 323 79 125 449 121 233 96 469 407 126 93 294 303 247 240 71 265 70 177 66 238 169 470 151 384 328 56 97 115 387 170 337 213 3 203 369 101 494 412 194 491 184 309 297 340 48 235 147 7 128 482 77 37 186 137 76 260 165 92 438 324 334 290 55 493 95 174 454 124 16 326 63 23 185 386 225 286 261 136 24 190 113 467 207 219 300 363 435 212 30 226 403 497 472 173 110 162 391 139 200 65 444 440 360 187 458 264 152 305 476 144 345 385 436 47 439 499 175 274 104 19 329 381 189 214 456 375 105 465 279 129 88 90 420 2 473 202 107 275 40 361 292 401 299 231 150 448 209 377 236 277 130 462 223 45 421 364 118 289 242 406 164 397 171 352 20 161 259 365 21 331 283 333 308 432 87 111 408 241 411 198 153 178 44 143 314 392 228 94 310 424 344 43 69 22 478 193 157 211 221 145 445 362 481 14 374 343 27 100 251 199 398 4 81 452 426 409 230 254 106 18 390 108 315 222 112 148 31 98 417 268 188 239 320 460 441 156 282 33 206 500 451 116 135 11 6 471 168 330 293 114 204 117 347 246 46 422 49 388 359 244 350 138 52 163 298 342 490 229 307 371 232 123 339 321 466 176 10 25 416 26 1 498 54 9 122 475 248 50 455 210 414 487 457 252 166 285 336 322 42 234 447 172 146 468 127 120 484 89 34 183 180 41 154 36 296 224 379 489 495 405 35 13 346 182 325 383 492 483 437 109 132 201 429 245 28 477 319 291 380 474 72 427 353 302 332 433 461 85 102 485 356 15 357 418 273 419 51 216 160 450 197 62 378 218 395 295 355 373 142 266 338 256 316 250 220 281 255 486 327 376 29 258 84 351 208 488 366 5 38 317 39 382 17 262 425 263 134 280 32 430 496 141 257 73 67 196 217 480 404 253 133 304 75 431 358 270 68 249 91 413 83 12 215 443 271 119 434 428 269 103 349 53 78 57 306 453 82 318 272 389 131 80 278 410 312 74 159 237 267 313 423 205 287 61 64 459 149 99 402 399 446 59 191 58 155 86 341 192 335 372 179 464 370 195 311 348 396 301 60 415 367 288 463 479 368 394 181 400 140 393 354 276 284 243 8 
*/
int	main(int argc, char *argv[])
{
	t_list	*a;
	t_list	*b;
	int		lst_size;
	int		i;

	a = NULL;
	b = NULL;
	(void)lst_size;
	(void)i;
	(void)b;
	if (!validator(argc, argv))
		return (write(2, "Error1\n", 7));
	a = converter(argc, argv);
	if (!a)
		return (write(2, "Error2\n", 7));
	push_swap(&a, &b, argc - 1);
	ft_lstclear(&a, free);
	ft_lstclear(&b, free);
	return (0);
}
	// split_stack_diviser(&a, &b, (t_stat){'a', 'c', 500});
	// diviser_tips(&a, &b, (t_stat){'a', 'c', 125});
	// diviser_tips(&a, &b, (t_stat){'a', 'c', 125});
	// diviser_tips(&a, &b, (t_stat){'b', 'd', 62});
	// i = 0;
	// while (i++ < 63)
	// 	rra(&a);
	// diviser_tips(&a, &b, (t_stat){'b', 'd', 63});
	// diviser_tips(&a, &b, (t_stat){'b', 'd', 62});
	// i = 0;
	// while (i++ < 63)
	// 	rra(&a);
	// diviser_tips(&a, &b, (t_stat){'b', 'd', 63});
	// diviser_tips_sorted(&a, &b, (t_stat){'b', 'c', 250});
	// sort_sub_stack(&a, &b, (t_sort_n){250, 250, 'b', 'g'});
